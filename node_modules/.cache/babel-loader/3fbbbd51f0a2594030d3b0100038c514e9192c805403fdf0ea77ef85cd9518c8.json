{"ast":null,"code":"import _defineProperty from\"C:/Users/rohin/OneDrive/Desktop/om/Sciqus-Student-Management-System-Frontend-Backend/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/rohin/OneDrive/Desktop/om/Sciqus-Student-Management-System-Frontend-Backend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/rohin/OneDrive/Desktop/om/Sciqus-Student-Management-System-Frontend-Backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rohin/OneDrive/Desktop/om/Sciqus-Student-Management-System-Frontend-Backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rohin/OneDrive/Desktop/om/Sciqus-Student-Management-System-Frontend-Backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ShowAndDelete(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),studentData=_useState2[0],setStudentData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(3),_useState6=_slicedToArray(_useState5,1),itemsPerPage=_useState6[0];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:8081/ShowAndId');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(Array.isArray(data)){setStudentData(data);}else{setStudentData([]);}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error('Error:',_context.t0);setStudentData([]);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var indexOfLastItem=currentPage*itemsPerPage;var indexOfFirstItem=indexOfLastItem-itemsPerPage;var currentItems=studentData.slice(indexOfFirstItem,indexOfLastItem);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var navigate=useNavigate();var _useState7=useState({id:''}),_useState8=_slicedToArray(_useState7,2),values=_useState8[0],setValues=_useState8[1];var handleSubmit=function handleSubmit(e){e.preventDefault();fetch('http://localhost:8081/ShowAndDelete',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:values.id})}).then(function(res){return res.json();}).then(function(data){if(data.message){navigate('/Delete2');}else{console.log(data);navigate('/Delete2');}}).catch(function(error){console.error('Error:',error);});};var handleInput=function handleInput(event){setValues(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},event.target.name,event.target.value));});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"colorw\",children:\"Delete Student\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"center2\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Student ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Username\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"tbody\",children:currentItems.map(function(student,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:student.id}),/*#__PURE__*/_jsx(\"td\",{children:student.name}),/*#__PURE__*/_jsx(\"td\",{children:student.email}),/*#__PURE__*/_jsx(\"td\",{children:student.username})]},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:Array.from({length:Math.ceil(studentData.length/itemsPerPage)},function(_,i){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return paginate(i+1);},className:\"btn \".concat(currentPage===i+1?'btn-success':'btn-warning'),children:i+1},i+1);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1 \",className:\"form-label mb-3 my-3 mx-3 colorw\",children:\"Student Registration Id\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:handleInput,className:\"\",name:\"id\",placeholder:\"Student ID to Delete\",id:\"id\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"btn btn-success\",children:\"Delete\"})})]})]})});}export default ShowAndDelete;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ShowAndDelete","_useState","_useState2","_slicedToArray","studentData","setStudentData","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","itemsPerPage","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","Array","isArray","t0","console","error","stop","apply","arguments","indexOfLastItem","indexOfFirstItem","currentItems","slice","paginate","pageNumber","navigate","_useState7","id","_useState8","values","setValues","handleSubmit","e","preventDefault","method","headers","body","JSON","stringify","then","res","message","log","catch","handleInput","event","_objectSpread","_defineProperty","target","name","value","children","className","map","student","index","email","username","from","length","Math","ceil","_","i","onClick","concat","htmlFor","type","onChange","placeholder"],"sources":["C:/Users/rohin/OneDrive/Desktop/om/Sciqus-Student-Management-System-Frontend-Backend/frontend/src/components/ShowAndDelete.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction ShowAndDelete() {\r\n  const [studentData, setStudentData] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(3);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:8081/ShowAndId');\r\n        const data = await response.json();\r\n        if (Array.isArray(data)) {\r\n          setStudentData(data);\r\n        } else {\r\n          setStudentData([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n        setStudentData([]);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const currentItems = studentData.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  const navigate = useNavigate();\r\n  const [values, setValues] = useState({\r\n    id: '',\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    fetch('http://localhost:8081/ShowAndDelete', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        id: values.id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.message) {\r\n          navigate('/Delete2');\r\n        } else {\r\n          console.log(data);\r\n          navigate('/Delete2');\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error:', error);\r\n      });\r\n  };\r\n\r\n  const handleInput = (event) => {\r\n    setValues((prev) => ({ ...prev, [event.target.name]: event.target.value }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='text-center'>\r\n        <h4 className='colorw'>Delete Student</h4>\r\n\r\n        <div className='center2'>\r\n          <table className='table2'>\r\n            <thead>\r\n              <tr>\r\n                <th>Student ID</th>\r\n                <th>Student Name</th>\r\n                <th>Student Email</th>\r\n                <th>Student Username</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className='tbody'>\r\n              {currentItems.map((student, index) => (\r\n                <tr key={index}>\r\n                  <td>{student.id}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>{student.email}</td>\r\n                  <td>{student.username}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          <div className='pagination'>\r\n            {Array.from({ length: Math.ceil(studentData.length / itemsPerPage) }, (_, i) => (\r\n              <button\r\n                key={i + 1}\r\n                onClick={() => paginate(i + 1)}\r\n                className={`btn ${currentPage === i + 1 ? 'btn-success' : 'btn-warning'}`}\r\n              >\r\n                {i + 1}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className='text-center'>\r\n          <label htmlFor='exampleFormControlInput1 ' className='form-label mb-3 my-3 mx-3 colorw'>\r\n            Student Registration Id\r\n          </label>\r\n          <input\r\n            type='number'\r\n            onChange={handleInput}\r\n            className=''\r\n            name='id'\r\n            placeholder='Student ID to Delete'\r\n            id='id'\r\n          />\r\n\r\n          <div>\r\n            <button type='submit' onClick={handleSubmit} className='btn btn-success'>\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ShowAndDelete;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}